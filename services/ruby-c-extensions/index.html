

<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ruby C extension development - Bear Metal</title>
  <meta name="author" content="Bear Metal OÜ">

  
  <meta name="description" content="Home Services Ruby C extensions Our expertise Debugging Development Consulting Ruby C extensions Our expertise We've been around the block. MANY &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://bearmetal.eu/services/ruby-c-extensions">
  <link href="/images/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/theden/atom.xml" rel="alternate" title="Bear Metal" type="application/atom+xml">

  

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="//use.typekit.net/mba8ekq.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<script type="text/javascript">
  $(document).ready(function($) {
    $('a.expand').click(function(event) {
      $(this).parents('.testimonial').find('.the-rest').addClass('visible').slideDown('500');
      $(this).parents('.read-more').hide();
      return false;
    });
  });
</script>
  <!-- Google Analytics -->
<script  type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-40333336-1', 'auto');
ga('require', 'linkid', 'linkid.js');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->
</head>


<body>
  <nav>
  <ul>
    
      
      
      

      <li class="first  ">
        <a class="" href="/team/">Team</a>
      </li>
    
      
      
      

      <li class="  ">
        <a class="" href="/theden/">Company Blog</a>
      </li>
    
      
      
      

      <li class="  last">
        <a class="" href="/services/">Services</a>
      </li>
    
  </ul>
</nav>

<header>
  <a href="/"><h1>Bear <i><img src="/images/bear.png"></i> Metal</h1></a>
</header>


  <div class="row">
  <nav id="breadcrumbs">
    <a href="../../">Home</a>
    <a href="../../services/">Services</a>
    <a class="current">Ruby C extensions</a>
  </nav>
</div>

<div class="row">
  <div class="large-3 medium-4 columns">
    <div class="sidebar">
      <nav>
        <ul class="side-nav">
          <li><a href="#expertise">Our expertise</a></li>
          <li><a href="#debugging">Debugging</a></li>
          <li><a href="#development">Development</a></li>
          <li><a href="#consulting">Consulting</a></li>
        </ul>
      </nav>
    </div>
  </div>

  <div class="large-9 medium-8 columns">
    <h1>Ruby C extensions</h1>

    <div id="expertise">
      <h2>
        Our expertise
      </h2>
      <h3>We&#8217;ve been around the block. MANY times</h3>

      <p>
        We have advanced knowledge of MRI Ruby internals, the extensions interface and how to make everything work nicely on various platforms and with the Ruby Garbage Collector and virtual machine.
      </p>

      <h5>Some of our work - a MQTT client</h5>

      <p><a href="http://www.xively.com">Xively</a> reached out to us for a stable Ruby client for their &#8220;internet of things&#8221; platform. We opted for wrapping <a href="http://mosquitto.org/man/libmosquitto-3.html">libmosquitto</a>, a performant and well maintained <a href="http://mqtt.org/">MQTT protocol</a> client - it now lives at <a href="https://github.com/xively/mosquitto">xively/mosquitto</a></p>

      <h5>Other Open Source efforts:</h5>

      <ul>
        <li><a href="https://github.com/brianmario/mysql2">mysql2</a> (contributed to)</li>
        <li><a href="https://github.com/oldmoe/mysqlplus">mysqlplus</a> (contributed to)</li>
        <li><a href="https://github.com/bear-metal/tunemygc">tunemygc</a> (developed and maintain)</li>
        <li><a href="https://github.com/methodmissing/rbczmq">rbczmq</a> (developed and maintain)</li>
        <li><a href="https://github.com/methodmissing/eio">eio</a> (developed)</li>
        <li><a href="https://github.com/methodmissing/majordomo_ruby">majordomo_ruby</a> (developed)</li>
        <li><a href="https://github.com/methodmissing/type_array">type_array</a> (developed)</li>
        <li><a href="https://github.com/methodmissing/jio">jio</a> (developed)</li>
        <li><a href="https://github.com/methodmissing/relp">relp</a> (developed)</li>
      </ul>

      <h5>Presentations and talks</h5>

      <p>We presented on extensions best practices and the Ruby VM at various conferences.</p>

      <ul>
        <li><a href="https://speakerdeck.com/methodmissing/native-extensions-how-do-they-work">Native Extensions: How do they work?</a></li>
        <li><a href="http://www.slideshare.net/methodmissing/inside-ruby-sapo-codebits-2009">Dynamic Language VMs: Inside Ruby</a></li>
        <li><a href="http://www.slideshare.net/methodmissing/railswaycon-inside-matz-ruby">Inside Matz Ruby</a></li>
      </ul>
    </div>

    <div id="debugging">
      <h2>
        Debugging
      </h2>
      <h3>ERROR: Failed to build gem native extension.</h3>

      <p>
        Ever had your bundle blow up with a C extension failing to compile? Or you could not upgrade to the latest mainline Ruby version due to incompatibility issues?
      </p>

      <h5>We can help identify:</h5>

      <ul>
        <li>any missing dependencies</li>
        <li>issues with your build environment</li>
        <li>issues with the gem&#8217;s configuration</li>
        <li>compatibility issues with the current Ruby version</li>
      </ul>

      <h3>[BUG] Segmentation fault</h3>

      <p>
        Or does your Rails backends or console sessions sometimes kamikaze with segfaults?
      </p>

      <h5>We can help:</h5>

      <ul>
        <li>identify any integration issues with the Garbage Collector</li>
        <li>debug threading issues</li>
        <li>track down memory allocation problems and dangling pointers</li>
        <li>identify any changes to the core extension API for the current Ruby version</li>
        <li>ditto for runtime semantics and other changes</li>
      </ul>

      <h3>dyld: Symbol not found</h3>

      <p>
        Upgraded system libs, ran &#8220;gem pristine&#8221; and now not ABI compatible with the current version of the wrapped library?
      </p>

      <h5>We can help:</h5>

      <ul>
        <li>package and build the correct library for your platform</li>
        <li>by wrapping the new library release (ABI violations)</li>
        <li>working better with shared system libraries</li>
      </ul>
    </div>

    <div id="development">
      <h2>
        Development
      </h2>
      <h5>We&#8217;ve developed a fair amount of extensions</h5>

      <p>
        We&#8217;re interested in working with vendors to expose proprietary shared libraries or other Open Source C(++) libraries to the Ruby language. Using something niche in your stack that you need to expose to your in house development team? We&#8217;re happy to help.
      </p>

      <ul>
        <li>Interoperate properly with threads by releasing the GIL (Global Interpreter Lock) when not needed</li>
        <li>Mapping library interfaces to an elegant Ruby API</li>
        <li>Plugging seamlessly into the Ruby GC</li>
        <li>Supporting bundling and building libraries in a gem alongside system wide installations</li>
        <li>Security analysis</li>
        <li>Memory analysis</li>
        <li>Performance testing and improvements</li>
        <li>Compliance with a variety of Ruby versions</li>
        <li>Exposing VM specific features such as tracepoints and other callbacks</li>
        <li>Getting a build matrix going at <a href="http://www.travis-ci.org">Travis CI</a> for different Ruby and library versions</li>
      </ul>
    </div>

    <div id="consulting">
      <h2>
        Consulting
      </h2>
      <h3>Alreading busy wrapping a library?</h3>

      <p>
        We provide consulting and training with all aspects of extension development.
      </p>
    </div>
  </div>
</div>

<div class="row">
  <div class="small-12 columns" id="consultation-form">
    <div class="row">
      <div id="emblem">
        <img src="../../images/satisfaction-badge.png">
      </div>
      <div class="small-9 columns">
        <p><em>You&#8217;re done with gambling on app developers, and you want to hire a team of experts who understand your business.</em></p>
      </div>
      <div class="small-12 large-9 columns">
        <form action="https://bearmetal.wufoo.com/forms/z6fe3fc0wce5qc/#public" method="POST" id="ss-form" target="_self">
  <div class="row">
    <div class="small-12 columns">
      <p><strong>Reserve a confidential discussion, and let&#8217;s see how we can help your users kick butt:</strong></p>
    </div>

    <div class="small-6 columns">
      <label for="Field7">Your first name</label>
      <input type="text" placeholder="Maxwell" name="Field7" id="Field7" tabindex="1" required />
    </div>

    <div class="small-6 columns">
      <label for="Field8">Your last name</label>
      <input type="text" placeholder="Smart" name="Field8" id="Field8" tabindex="2" required />
    </div>

    <div class="small-12 columns">
      <label for="Field9">Your email address</label>
      <input type="email" placeholder="name@domain.com" name="Field9" id="Field9" maxlength="255" tabindex="3" required />
    </div>

    <div class="hide">
      <label for="comment">Do Not Fill This Out</label>
      <textarea name="comment" id="comment" rows="1" cols="1"></textarea>
      <input type="hidden" id="idstamp" name="idstamp" value="N+bXtKr3xiqlh/YdAtzQ/UYNJjrL7XBYK3NvEkOuwWU=" />
    </div>

    <div class="small-12 columns">
      <button type="submit" id="saveForm" name="saveForm" tabindex="4">Reserve your consultation</button>
    </div>
  </div>
</form>
      </div>
    </div>
  </div>
</div>

<footer>
<div>
  Copyright &copy; 2015 - Bear Metal OÜ
</div>
</footer>

  <script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '51767878108d7b455f000154');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>
</body>
</html>